#### 1.正则表达式基础

##### 1.1字符串操作

- `search`——查找
- `substring`——获取子字符串
- `charAt`——获取某个字符
- `split`——分割字符串，获得数组

##### 1.2什么是正则表达式

强大的字符串匹配工具

`RegExp`对象：

JS风格——new RegExp("a", "i")

perl风格——/a/i

```js
// 'i'表示忽略大小写; 'i' -> 'ignore'
var re = new RegExp('a', 'i');

//perl风格
var re = /a/i;
```

#### 2.字符串与正则配合

- `search`: 字符串搜索，返回出现的位置。参数`i`(`ignore`)表示忽略大小写
- `match`: 获取匹配的项目。量词`+`表示匹配若干；`g`(`global`)全局匹配（全部提取出来）
- `replace`: 

`\d`表示匹配数字

```js
// 找出所有两位数数字
var str = 'adsf 2 263 45 ggd';
var re = /\d\d/g;
console.log(str.match(re));

// 找出所有数字
var str = 'adsf 2 263 45 ggd';
var re = /\d+/g;
console.log(str.match(re));

// 将a d替换为0
var str = 'abc aa erw';
var re = /a|d/g;
console.log(str.replace(re, '0'));
```

####  3.字符串

- 任意字符`[abc]`

  ```js
  var str = 'apc xpc ppc bpc spc tpc';
  var re = /[apx]pc/g;
  console.log(str.match(re));//apc xpc ppc
  ```

- 范围

  ```js
  // 表示a-z均可
  [a-z]
  // 表示0-9均可
  [0-9]
  ```

- 排除

  ```js
  // 排除字母
  [^a-z]
  // 排除字母 数字
  [^a-z0-9A-Z]
  ```

##### 转义字符

- `.`: 任意字符
- `\d`: 数字 `[0-9]`；而`\D`表示非数字`[^0-9]`
- `\w`: 英文、数字、下划线 `[a-z0-9_]`；而`\W`表示`[^a-z0-9_]`
-  `\s`: 空表字符；而`\S`表示非空字符

实例：过滤HTML标签

```js
// 由于正则的贪婪模式,不能使用如下正则,它会取全部
// <p>content</p><div>分段</div>
var re = /<.+>/g;
//应该使用
var re = /<[^<>]+>/g;
```

#### 4.量词

量词表个数，常用的有以下：

- `{n}`: 正好出现n次
- `{n, m}`: 最少n次，最多m次
- `{n,}`: 最少n次，最多不限
- `+`: 实际就是`{1,}`
- `?`: 实际就是`{0,1}`（表可有可无的东西）
- `*`: 实际就是`{0,}`（不推荐使用）

```js
// 电话号码
[1-9]\d{7}

// QQ号
[1-9]\d{4,10}

// 固话 010-147258,区号可有可无,分机号可有可无
// 可有可无的东西在后面接 ?
(0\d{2,3-})?[1-9]\d{7}(-\d{1,5})?
```

`test()`RegExp上的方法，表示字符串是否符合正则（只要字符串一部分符合要求，即返回`true`）

例子：邮箱校验

```js
// 一串英文、数字、下划线 @ 一串英文、数字 . 一串英文
// /\w+@[a-z0-9]+\.[a-z]+/i

var re = /\w+@[a-z0-9]+\.[a-z]+/i;
if (re.test(oTxt.value)) {
    console.log("合法邮箱");
}
else {
    console.log("不合法邮箱");
}
```

上面的正则还有一个缺陷就是前面出现非法文字也会显示`true`，这是`test()`造成的。

`^`不出现在方括号里则表示行首；`$`表示行尾

```js
// 通过在规则前后添加^ $ 使得整个字符串都会校验,而不只是一部分
var re = /^\w+@[a-z0-9]+\.[a-z]+$/i;
```

